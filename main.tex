% file: main.tex

% description: master file to produce a complete
% release version of the project



%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%----- DOCUMENT CLASS -----%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[openany]{memoir}



%%%%%%%%%%%%%%%%%%%%%%
%----- PREAMBLE -----%
%%%%%%%%%%%%%%%%%%%%%%

% we are compiling from main directory
\newcommand{\olpath}{.}

% job
\ifdefined\oljobname\relax\else\let\oljobname\jobname\fi

% loafing preamble
\input{\olpath/preamble/preamble.tex}



%%%%%%%%%%%%%%%%%%%%
%----- CONFIG -----%
%%%%%%%%%%%%%%%%%%%%

% make sure editorial comments are included

\includeenv{editorial}

\problemsperchapter






% Biconditional, verum are defined symbols

\tagtrue{defIff,defTrue}
\tagfalse{prvIff,prvTrue}

% I'll leave cases for conditional, universal quantifier, diamond as exercises

\tagtrue{probAnd,probIf,probAll,probDiamond}










\setsechook{\noindent
	\hrulefill\par{\hfill
		\href{https://github.com/OpenLogicProject/OpenLogic/blob/master/\olfilebase\olfilename.tex}{\texttt{\olfilebase\olfilename.tex}}}\par}

\renewcommand*{\beforepartskip}{}
\renewcommand*{\afterpartskip}{}
\renewcommand*{\clearforchapter}{}
\nopartblankpage
\let\cleardoublepage\clearpage

\pagestyle{openlogic}







%%%%%%%%%%%%%%%%%%%%%%
%----- DOCUMENT -----%
%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\pagestyle{plain}

\input{\olpath/content/covermatter/cover-page.tex}

\pagestyle{giheadings}

% mettre le `about.tex` ici fait planter les minitoc, faut que je le place après le toc [ou alors (à tester), je fait dominitoc avant de input le `about.tex`]
%\input{content/open-logic-about}

\shorttoc{Short contents}{-1}

\dominitoc
\tableofcontents* % starred version from the memoir class : don't add its title to the toc

\input{content/open-logic-about}

\olimport[content]{content}

\photocredits

\printbibliography[heading=bibintoc]

\end{document}